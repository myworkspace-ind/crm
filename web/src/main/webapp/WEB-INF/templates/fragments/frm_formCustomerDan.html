<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<!-- BEGIN CONTENT -->
	<div class="app-content content">
		<div class="content-body">
			<section class="row">
				<div class="col-12">
					<div class="card">
						<div class="card-header">
							<h4 class="card-title">Thêm Khách Hàng Mới</h4>
						</div>
						<script th:if="${alertFailMessage}" type="text/javascript">
        					alert("Vui lòng nhập đầy đủ thông tin");
    					</script>
    					<script th:if="${alertSuccessMessage}" type="text/javascript">
        					alert("Đã lưu khách hàng thành công");
    					</script>
    					<script th:if="${alertDataMessage}" type="text/javascript">
        					alert("Vui lòng kiểm tra lại thông tin");
    					</script>
						<div class="card-content">
							<div class="card-body">
							<form action="/crm-web/customer/create-customer_dan" method="post" th:object="${customer}">
							
							<div th:if="${errorMessage}" style="color: red;">
        <p th:text="${errorMessage}"></p>
    </div>
					            <div class="form-group">
					                <label for="company_name">Tên Công Ty:</label>
					                <input type="text" class="form-control" id="company_name" name="companyName" th:field="*{companyName}" required>
					            </div>
								
								
					            <div class="form-group">
					                <label for="contact_person">Người Liên Hệ Chính:</label>
					                <input type="text" class="form-control" id="contact_person" name="contactPerson" th:field="*{contactPerson}" required>
					            </div>
					
					            <div class="form-group">
					                <label for="email">Email:</label>
					                <input type="email" class="form-control" id="email" name="email" th:field="*{email}" required>
					            </div>
					
					            <div class="form-group">
					                <label for="phone">Số Điện Thoại:</label>
					                <input type="tel" class="form-control" id="phone" name="phone" th:field="*{phone}" required>
					            </div>
					
					            <div class="form-group">
					                <label for="address">Địa Chỉ:</label>
					                <input type="text" class="form-control" id="address" name="address" th:field="*{address}" th:value="aa" required>
					            </div>
					
					            <div class="form-group">
					                <label for="profession">Ngành Nghề:</label>
					                <select class="form-control" id="profession" name="profession" th:field="*{profession}" required>
									    <th:block th:each="profession : ${professions}">
										    <option th:value="${profession.id}" th:text="${profession.name}" th:selected="${profession.id == selectedProfession}"></option>
									    </th:block>
									</select>
					            </div>
					
					            <div class="form-group">
					                <label for="main_status">Trạng Thái Chính:</label>
					                <select class="form-control" id="main_status" name="mainStatus" th:field="*{mainStatus}" required>
					                    <option value="">Chọn Trạng Thái Chính</option>
					                    <option th:each="status : ${statuses}" th:value="${status.id}" th:text="${status.name}"></option>
					                </select>
					            </div>
					
					            <div class="form-group">
					                <label for="sub_status">Trạng Thái Phụ:</label>
					                <select class="form-control" id="sub_status" name="subStatus" th:field="*{subStatus}" required>
					                    <option value="">Chọn Trạng Thái Phụ</option>
					                    <option th:each="status : ${statuses}" th:value="${status.id}" th:text="${status.name}"></option>
					                </select>
					            </div>
					
					            <div class="form-group">
					                <label for="responsible_person">Người Phụ Trách:</label>
					                <select class="form-control" id="responsible_person" name="responsiblePerson" th:field="*{responsiblePerson}" required>
					                    <option value="">Chọn Người Phụ Trách</option>
					                    <option th:each="person : ${responsiblePersons}" th:value="${person.id}" th:text="${person.name}"></option>
					                </select>
					            </div>
					
					            <div class="form-group">
					                <label for="note">Ghi Chú:</label>
					                <textarea class="form-control" id="note" name="note" th:field="*{note}"></textarea>
					            </div>
					
					            <button type="submit" class="btn btn-primary">Lưu Khách Hàng</button>
					            <a href="/" class="btn btn-secondary">Quay Lại</a>
					        </form>
						</div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
	
	<script>
	  document.querySelectorAll("input[required]").forEach((input) => {
	    const label = input.previousElementSibling;
	    if (label) {
	      label.innerHTML += ' <span style="color: red;">*</span>';
	    }
	  });
	</script>
	
	<!-- END CONTENT -->

